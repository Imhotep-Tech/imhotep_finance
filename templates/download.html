{% extends "layout.html" %}

{% block title %}Download - Imhotep Financial Manager{% endblock %}
{% block description %}Download Imhotep Financial Manager for Windows, macOS, Android, and iOS. Get started with our comprehensive financial management solution today.{% endblock %}

{% block extra_head %}
<style>
    .pattern-bg {
        background-image: radial-gradient(circle at 1px 1px, rgba(81, 173, 172, 0.1) 1px, transparent 0);
        background-size: 20px 20px;
    }
    
    .download-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
        border: 1px solid #e2e8f0;
        border-left: 4px solid #51adac;
        transition: all 0.3s ease;
    }
    
    .download-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        border-left-color: #428a89;
    }
    
    /* Dark mode styles for download cards */
    body.dark-mode .download-card {
        background: linear-gradient(135deg, #2f5a5a 0%, #376e6d 100%);
        border: 1px solid #428a89;
        border-left: 4px solid #51adac;
        color: #ffffff;
    }
    
    body.dark-mode .download-card:hover {
        background: linear-gradient(135deg, #376e6d 0%, #428a89 100%);
        border-color: #51adac;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
    }
    
    .platform-icon {
        width: 64px;
        height: 64px;
        background: linear-gradient(135deg, #51adac 0%, #428a89 100%);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        margin-bottom: 1rem;
    }
    
    .download-btn {
        background: linear-gradient(135deg, #51adac 0%, #428a89 100%);
        border: none;
        border-radius: 12px;
        padding: 12px 24px;
        color: white;
        text-decoration: none;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        font-weight: 600;
    }
    
    .download-btn:hover {
        background: linear-gradient(135deg, #428a89 0%, #2f5a5a 100%);
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(81, 173, 172, 0.3);
        color: white;
        text-decoration: none;
    }
    
    .secondary-btn {
        background: transparent;
        border: 2px solid #51adac;
        color: #51adac;
    }
    
    .secondary-btn:hover {
        background: #51adac;
        color: white;
        transform: translateY(-2px);
    }
    
    body.dark-mode .secondary-btn {
        border-color: #51adac;
        color: #51adac;
    }
    
    body.dark-mode .secondary-btn:hover {
        background: #51adac;
        color: white;
    }
    
    .stats-card {
        background: linear-gradient(135deg, #51adac 0%, #428a89 100%);
        color: white;
        border-radius: 1rem;
        padding: 2rem;
        text-align: center;
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
    }
    
    .stats-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(81, 173, 172, 0.3), 0 10px 10px -5px rgba(81, 173, 172, 0.2);
    }
    
    body.dark-mode .stats-card {
        background: linear-gradient(135deg, #2f5a5a 0%, #376e6d 100%);
    }
    
    body.dark-mode .stats-card:hover {
        background: linear-gradient(135deg, #376e6d 0%, #428a89 100%);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5p rgba(0, 0, 0, 0.3);
    }
    
    .feature-badge {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 0.5rem;
    }
    
    .ios-instructions {
        background: rgba(81, 173, 172, 0.1);
        border-radius: 12px;
        padding: 1rem;
        margin-top: 1rem;
        border-left: 4px solid #51adac;
    }
    
    body.dark-mode .ios-instructions {
        background: rgba(255, 255, 255, 0.1);
        color: #ffffff;
    }
    
    /* Dark mode text colors */
    body.dark-mode .text-gray-900 {
        color: #ffffff !important;
    }
    
    body.dark-mode .text-gray-600 {
        color: #d1d5db !important;
    }
    
    body.dark-mode .text-gray-500 {
        color: #9ca3af !important;
    }
    
    body.dark-mode .bg-gray-100 {
        background-color: rgba(255, 255, 255, 0.1) !important;
        color: #ffffff !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 pattern-bg">
    <!-- Header Section -->
    <div class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center">
                <div class="flex items-center justify-center mb-6">
                    <div class="w-20 h-20 bg-gradient-to-r from-imhotep-500 to-imhotep-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-download text-white text-3xl"></i>
                    </div>
                </div>
                <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 mb-4">Download Imhotep</h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Get the complete financial management experience on all your devices. Free, secure, and powerful.
                </p>
            </div>
        </div>
    </div>

    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Statistics Section -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="stats-card">
                <div class="text-3xl font-bold mb-2">4</div>
                <div class="text-white/90">Platforms</div>
            </div>
            <div class="stats-card">
                <div class="text-3xl font-bold mb-2">Free</div>
                <div class="text-white/90">Forever</div>
            </div>
            <div class="stats-card">
                <div class="text-3xl font-bold mb-2">Secure</div>
                <div class="text-white/90">& Private</div>
            </div>
        </div>

        <!-- Download Options -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            <!-- Windows -->
            <div class="download-card rounded-xl p-8 shadow-lg">
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <div class="platform-icon">
                            <i class="fab fa-windows"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Windows</h3>
                        <p class="text-gray-600 mb-4">Full desktop experience with offline capabilities</p>
                        <div class="feature-badge">Windows 10/11</div>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row gap-3">
                    <a href="https://github.com/Imhotep-Tech/imhotep_finance/releases/download/v3.0.0/Imhotep-Financial-Manager-Setup-3.0.0.exe" 
                       class="download-btn" download>
                        <i class="fas fa-download mr-2"></i>Download .exe
                    </a>
                    <span class="text-sm text-gray-500 self-center">Version 3.0.0</span>
                </div>
            </div>

            <!-- macOS -->
            <div class="download-card rounded-xl p-8 shadow-lg">
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <div class="platform-icon">
                            <i class="fab fa-apple"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">macOS</h3>
                        <p class="text-gray-600 mb-4">Native Mac application with system integration</p>
                        <div class="feature-badge">macOS 10.15+</div>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row gap-3">
                    <a href="https://github.com/Kbassem10/imhotep_finance/releases/download/Imhotep_Financial_Manager/Imhotep-Financial-Manager-MacOS.dmg" 
                       class="download-btn" download>
                        <i class="fas fa-download mr-2"></i>Download .dmg
                    </a>
                    <span class="text-sm text-gray-500 self-center">Latest version</span>
                </div>
            </div>

            <!-- Android -->
            <div class="download-card rounded-xl p-8 shadow-lg">
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <div class="platform-icon">
                            <i class="fab fa-android"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Android</h3>
                        <p class="text-gray-600 mb-4">Mobile financial management on the go</p>
                        <div class="feature-badge">Android 7.0+</div>
                    </div>
                </div>
                <div class="flex flex-col sm:flex-row gap-3">
                    <a href="https://www.amazon.com/dp/B0D9TVMV3D/ref=sr_1_2?dib=eyJ2IjoiMSJ9.qzFudk5ElS-BgrqDZfGpZ41oDM22hTBqu51QpR0uz2U.gaEl94dYgf1OQ7HDnnCjwOm9-K70Vj7R-gUBLnW6eGQ&dib_tag=se&qid=1721656003&refinements=p_4%3AImhotep+Tech&s=mobile-apps&search-type=ss&sr=1-2" 
                       class="download-btn" target="_blank">
                        <i class="fab fa-amazon mr-2"></i>Amazon App Store
                    </a>
                    <a href="#" class="secondary-btn" onclick="showAPKDownload()">
                        <i class="fas fa-file-download mr-2"></i>APK File
                    </a>
                </div>
                <div id="apkDownload" class="hidden mt-4 p-4 bg-blue-50 rounded-lg">
                    <p class="text-sm text-gray-600 mb-2">APK download will be available soon. For now, please use the Amazon App Store.</p>
                </div>
            </div>

            <!-- iOS -->
            <div class="download-card rounded-xl p-8 shadow-lg">
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <div class="platform-icon">
                            <i class="fab fa-apple"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">iOS</h3>
                        <p class="text-gray-600 mb-4">Progressive Web App with native feel</p>
                        <div class="feature-badge">iOS 14.0+</div>
                    </div>
                </div>
                <div class="flex flex-col gap-3">
                    <a href="#" id="iosInstall" class="download-btn">
                        <img src="{{ url_for('static', filename='ios.png') }}" class="w-6 h-6 mr-2" alt="Add to Home Screen">
                        Add to Home Screen
                    </a>
                    <div class="ios-instructions" id="iosInstructions">
                        <p class="font-semibold mb-2">To add this app to your home screen on iOS:</p>
                        <ol class="list-decimal list-inside text-sm space-y-1">
                            <li>Tap the Share button <i class="fas fa-share text-blue-500"></i> at the bottom of Safari</li>
                            <li>Select "Add to Home Screen" from the options</li>
                            <li>Tap "Add" to confirm</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Requirements -->
        <div class="bg-white rounded-xl p-8 shadow-lg mb-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">System Requirements</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div>
                    <h3 class="font-semibold text-gray-900 mb-2 flex items-center">
                        <i class="fab fa-windows text-blue-500 mr-2"></i>Windows
                    </h3>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>Windows 10 or later</li>
                        <li>4GB RAM minimum</li>
                        <li>500MB disk space</li>
                        <li>Internet connection</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900 mb-2 flex items-center">
                        <i class="fab fa-apple text-gray-700 mr-2"></i>macOS
                    </h3>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>macOS 10.15 or later</li>
                        <li>4GB RAM minimum</li>
                        <li>500MB disk space</li>
                        <li>Internet connection</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900 mb-2 flex items-center">
                        <i class="fab fa-android text-green-500 mr-2"></i>Android
                    </h3>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>Android 7.0 or later</li>
                        <li>2GB RAM minimum</li>
                        <li>100MB storage</li>
                        <li>Internet connection</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-900 mb-2 flex items-center">
                        <i class="fab fa-apple text-gray-700 mr-2"></i>iOS
                    </h3>
                    <ul class="text-sm text-gray-600 space-y-1">
                        <li>iOS 14.0 or later</li>
                        <li>Safari browser</li>
                        <li>50MB storage</li>
                        <li>Internet connection</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Features Highlight -->
        <div class="text-center">
            <div class="bg-gradient-to-r from-imhotep-500 to-imhotep-600 rounded-2xl p-8 text-white">
                <h2 class="text-3xl font-bold mb-4">Why Choose Imhotep Financial Manager?</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-shield-alt text-2xl"></i>
                        </div>
                        <h3 class="font-semibold mb-2">Secure & Private</h3>
                        <p class="text-white/90 text-sm">Your financial data is encrypted and stored securely</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-sync text-2xl"></i>
                        </div>
                        <h3 class="font-semibold mb-2">Cross-Platform Sync</h3>
                        <p class="text-white/90 text-sm">Access your data seamlessly across all devices</p>
                    </div>
                    <div class="text-center">
                        <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-chart-line text-2xl"></i>
                        </div>
                        <h3 class="font-semibold mb-2">Powerful Analytics</h3>
                        <p class="text-white/90 text-sm">Advanced insights and financial planning tools</p>
                    </div>
                </div>
                <div class="mt-8">
                    <a href="/register" class="bg-white text-imhotep-600 px-8 py-3 rounded-xl font-semibold hover:bg-gray-100 transition-colors">
                        Get Started Free
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Apply dark mode styles to cards if dark mode is enabled
    function applyDarkModeStyles() {
        const downloadCards = document.querySelectorAll('.download-card');
        const statsCards = document.querySelectorAll('.stats-card');
        
        if (document.body.classList.contains('dark-mode')) {
            downloadCards.forEach(card => {
                card.style.background = 'linear-gradient(135deg, #2f5a5a 0%, #376e6d 100%)';
                card.style.borderColor = '#428a89';
                card.style.color = '#ffffff';
            });
            
            statsCards.forEach(card => {
                card.style.background = 'linear-gradient(135deg, #2f5a5a 0%, #376e6d 100%)';
            });
        } else {
            downloadCards.forEach(card => {
                card.style.background = 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)';
                card.style.borderColor = '#e2e8f0';
                card.style.color = '';
            });
            
            statsCards.forEach(card => {
                card.style.background = 'linear-gradient(135deg, #51adac 0%, #428a89 100%)';
            });
        }
    }
    
    // Apply dark mode styles on load
    applyDarkModeStyles();
    
    // Listen for dark mode toggle
    const darkModeObserver = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                applyDarkModeStyles();
            }
        });
    });
    
    darkModeObserver.observe(document.body, {
        attributes: true,
        attributeFilter: ['class']
    });
    
    // Animate cards on load
    const cards = document.querySelectorAll('.download-card, .stats-card');
    cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.6s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
    
    // Enhanced hover effects for download cards
    const downloadCards = document.querySelectorAll('.download-card');
    downloadCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            if (document.body.classList.contains('dark-mode')) {
                this.style.background = 'linear-gradient(135deg, #376e6d 0%, #428a89 100%)';
            }
        });
        
        card.addEventListener('mouseleave', function() {
            if (document.body.classList.contains('dark-mode')) {
                this.style.background = 'linear-gradient(135deg, #2f5a5a 0%, #376e6d 100%)';
            }
        });
    });
});

function showAPKDownload() {
    const apkDiv = document.getElementById('apkDownload');
    apkDiv.classList.toggle('hidden');
}
</script>
{% endblock %}
